import{r as f,G as y,u as b,H as h,q as v,o as c,c as m,a as e,E as w,x as s,s as p,C as g,t as _}from"./entry.0551859d.js";import{o as k}from"./organization.74194ff8.js";import"./axios.config.3b7d29d9.js";const z=()=>{const l=f(!1),o=f({name:"",description:"",website:"",logo:""}),n=async()=>{l.value=!0;try{const i={name:o.value.name,description:o.value.description,website:o.value.website,logo:o.value.logo};(await k.createOrganization(i)).status===200&&(b().$toast.success("Organization was successfully created",{autoClose:5e3,dangerouslyHTMLString:!0}),h().push("/dashboard/organization"))}catch(i){return b().$toast.success(i.message,{autoClose:5e3,dangerouslyHTMLString:!0}),i}finally{l.value=!1}},r=y(()=>!!(o.value.name&&o.value.description&&o.value.website&&o.value.logo));return{handleCreateOrganization:n,organizationPayload:o,loading:l,isFormEmpty:r}},C={class:"max-w-md mx-auto"},D=e("h1",{class:"text-center text-base lg:text-xl font-medium pb-[20px]"},"Create a new organization",-1),F={class:"flex justify-center items-center"},U={class:"p-4"},O={for:"file-upload",class:"cursor-pointer"},j={class:"w-24 h-24 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center border-2 border-gray-300 border-dashed hover:border-gray-400 transition-all duration-300 ease-in-out"},E=["src"],N={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},B=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v16c0 1.1.9 2 2 2h12c1.1 0 2-0.9 2-2V4a2 2 0 00-2-2H6a2 2 0 00-2 2z"},null,-1),L=[B],M=e("label",{for:"orgName",class:"block text-sm sr-only font-medium leading-6 text-gray-900"},"Organization Name:",-1),R={class:"mt-2"},V=e("label",{for:"description",class:"block text-sm sr-only font-medium leading-6 text-gray-900"},"Describe your organization:",-1),q={class:"mt-2"},H=e("label",{for:"website",class:"block text-sm sr-only font-medium leading-6 text-gray-900"},"Website Url:",-1),S={class:"mt-2"},$={class:"pt-6"},A=["disabled"],W=v({__name:"create",setup(l){const{handleCreateOrganization:o,organizationPayload:n,loading:r,isFormEmpty:i}=z(),d=f(null),x=u=>{const t=u.target.files[0],a=new FileReader;a.onload=()=>{n.value.logo=a.result},a.readAsDataURL(t),t&&(d.value=URL.createObjectURL(t))};return(u,t)=>(c(),m("main",null,[e("button",{onClick:t[0]||(t[0]=a=>u.$router.back()),class:"text-white bg-black rounded-full text-sm mb-4 px-4 py-2"},"Go Back"),e("section",C,[D,e("form",{class:"space-y-6",onSubmit:t[4]||(t[4]=w((...a)=>s(o)&&s(o)(...a),["prevent"]))},[e("div",null,[e("div",F,[e("div",U,[e("label",O,[e("div",j,[s(d)?(c(),m("img",{key:0,src:s(d),class:"w-full h-full object-cover",alt:"Preview"},null,8,E)):(c(),m("svg",N,L))])]),e("input",{id:"file-upload",type:"file",class:"hidden",onChange:x,accept:"image/*"},null,32)])])]),e("div",null,[M,e("div",R,[p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s(n).name=a),placeholder:"Enter organization name",id:"orgName",name:"orgName",type:"text",required:"",class:"block w-full text-sm md:text-base rounded-md outline-none py-3 px-3 text-gray-900 shadow-sm border placeholder:text-gray-400 focus:ring-[0.4px] focus:ring-inset focus:ring-[#1F9D00] sm:text-sm sm:leading-6"},null,512),[[g,s(n).name]])])]),e("div",null,[V,e("div",q,[p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(n).description=a),placeholder:"Describe your organization...",rows:"4",cols:"4",id:"description",name:"description",required:"",class:"block w-full text-sm md:text-base rounded-md outline-none resize-none py-3 px-3 text-gray-900 shadow-sm border placeholder:text-gray-400 focus:ring-[0.4px] focus:ring-inset focus:ring-[#1F9D00] sm:text-sm sm:leading-6"},null,512),[[g,s(n).description]])])]),e("div",null,[H,e("div",S,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(n).website=a),type:"url",placeholder:"Enter website Url",id:"websiteUrl",name:"websiteUrl",required:"",class:"block w-full text-sm md:text-base rounded-md outline-none py-3 px-3 text-gray-900 shadow-sm border placeholder:text-gray-400 focus:ring-[0.4px] focus:ring-inset focus:ring-[#1F9D00] sm:text-sm sm:leading-6"},null,512),[[g,s(n).website]])])]),e("div",$,[e("button",{type:"submit",disabled:!s(i)||s(r),class:"flex w-full justify-center disabled:cursor-not-allowed disabled:opacity-25 rounded-full bg-[#1F9D00] px-3 py-3 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-[#1F9D00] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#1F9D00]"},_(s(r)?"processing...":"Create"),9,A)])],32)])]))}});export{W as default};
